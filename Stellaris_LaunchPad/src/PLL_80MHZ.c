/*********************************************************************************
**********************************************************************************
**                                  PLL_80MHZ.c                                 **
** 1. Board : TIVA-C TM4C123GXL Launchpad                                       **
** 2. Use PLL to set System Clock to 80MHZ                                      **
** 3. Michael @2014/05/10                                                       **
** 4. Version 1.0                                                               **
**********************************************************************************    
*********************************************************************************/

#include <stdint.h>
#include "inc/lm4f120h5qr.h"
#include "PLL_80MHZ.h"

//********************************************************************************
//                  USE PLL to set system clock to 80MHZ
//********************************************************************************
//Initial PLL 80MHZ
void PLL_Init80MHZ(void)
{    
    SYSCTL_RCC2_R |=  0x80000000;   
    SYSCTL_RCC2_R |=  0x00000800;  
    SYSCTL_RCC_R = (SYSCTL_RCC_R &~0x000007C0)   
                 + 0x00000540;   
    SYSCTL_RCC2_R &= ~0x00000070;  
    SYSCTL_RCC2_R &= ~0x00002000;  
    SYSCTL_RCC2_R |= 0x40000000;   
    SYSCTL_RCC2_R = (SYSCTL_RCC2_R&~ 0x1FC00000)  
                  + (4<<22);  
    while((SYSCTL_RIS_R&0x00000040)==0){};  
    SYSCTL_RCC2_R &= ~0x00000800;
}